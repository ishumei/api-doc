---
title: 文本纠错接口文档 | 数美
sidebar_label: 文本纠错接口文档

hide_title: true
description: 
keywords:
- 纠错文档
---

# 数美文本纠错接口 API 接口说明文档

---

版权所有，翻版必究

---

## 文档相关名词说明

**必传参数**：使用数美接口服务时，接口使用者必须传入的参数，否则将导致该接口服务无法正常使用；

**强烈建议**：使用数美接口服务时，强烈建议接口使用者传入的参数并可大幅度提高识别准确率；

**可选**：使用数美接口服务时，建议接口使用者传入的参数并可在特定的场景下提高识别准确率。

## 客户配置信息

请求 Header 参数如下：

| **参数名称** | **类型** | **是否必选** | **说明**                               |
| ------------ | -------- | ------------ | -------------------------------------- |
| X-Accesskey  | string   | 必须参数     | 用于权限认证，开通账号服务时由数美提供 |

## 文本纠错接口定义

**接口描述**

该接口用于提供文本服务的纠错功能。支持近 2 天的请求数据纠错。

**请求 URL**：https://api-web.fengkongcloud.com/api/feedback/text/add

**字符编码**：UTF-8

**请求方法**：POST

**建议超时时长**：1s

**请求参数**

放在 HTTP Body 中，采用 Json 格式，具体参数如下：

| **请求参数名** | **类型** | **参数说明**                                                     | **传入说明** | **备注**                                                                                       |
| -------------- | -------- | ---------------------------------------------------------------- | ------------ | ---------------------------------------------------------------------------------------------- |
| requestId      | string   | 文本回调请求唯一标识，与数美服务返回结果中的 requestId 对应      | 必传参数     |                                                                                                |
| type           | string   | 纠错类型                                                         | 必传参数     | 可选值： error：误杀 miss：漏杀                                                                |
| riskType       | int      | 内容风险类型，参考下方表格                                       | 可选         | 误杀：不传默认按 “正常” 处理 漏杀：不传默认按 “黑名单” 处理，部分服务无 “黑名单” 的按 “自定义” |
| timestamp      | int      | 默认可以纠错 2 天内数据，如果需要纠错时间大于 2 天，必须传该参数 | 可选         | 该记录发生时间，13 位时间戳                                                                    |
| account        | string   | 调用接口的账号                                                   | 可选         | 如：test@ishumei.com                                                                           |
| appId          | array    | 针对指定应用纠错，最多 3 个                                      | 可选         | 如：[“default”,“test”]                                                                         |
| channel        | array    | 针对指定渠道纠错，最多 3 个                                      | 可选         |                                                                                                |

其中，riskType 的列表如下：

| **风险类型** | **说明** |
| ------------ | -------- |
| 0            | 正常     |
| 100          | 涉政     |
| 200          | 色情     |
| 210          | 辱骂     |
| 300          | 广告     |
| 340          | 网络诈骗 |
| 500          | 无意义   |
| 600          | 违禁     |
| 700          | 其他     |
| 900          | 自定义   |

**返回参数**

放在 HTTP Body 中，采用 Json 格式，具体参数如下：

| **返回结果参数名** | **参数类型** | **参数说明**   | **是否必返** | **备注** |
| ------------------ | ------------ | -------------- | ------------ | -------- |
| code               | string       | 返回码         | 是           |          |
| message            | string       | 返回码详情描述 | 是           |          |

code 请求返回码列表如下：

| **code** | **message** |
| -------- | ----------- |
| 1100     | 成功        |
| 1101     | QPS 超限    |
| 1902     | xxxx        |

**示例**

请求示例：
```json
{
  "riskType": 100,
  "type": "miss",
  "requestId": "xxx_a0000"
}
```

成功返回示例：
```json
{
  "code": 1100,
  "message": "成功"
}
```

错误返回示例 1：
```json
{
  "code": 1902,
  "content": {},
  "message": "Accesskey 验证失败，请确认 Accesskey 是否正确"
}
```

错误返回示例 2：
```json
{
  "code": 1902,
  "message": "反馈的记录不存在",
  "content": {
    "requestId": "e03c7fcfa38358cb12d9a49f0495f7b8"
  }
}
```